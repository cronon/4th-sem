## Разарботка Базы данных
### Общие положения проектирования БД
Процесс разработки базы данных системы SmartReserve как и процесс разработки любой другой базы делится на три этапа моделирования:
* Инфологический - Описание предметной области, нет привязки к СУБД, предназначено «для людей». 
* Даталогический - Модель предметной области в привязке к СУБД определённого вида или к конкретной СУБД.
* Физический - Таблицы, связи, индексы, методы хранения, настройки производительности, безопасности и т.п.

### Инфологический
В БД необходимо хранить:
* Пользователей
* Заведения
* Заказы

Исходя из этого, имеем следущие таблицы:
* Админ
1. Email

* Пользователь
1. Email
2. Телефон
3. Роль
4. Локаль
5. Аватар

* Заведение
1. Имя
2. Количество столов
3. Описание
4. График работы
5. Телефон
6. Адрес
7. Аватар
8. Средний чек
9. Город
10. Рейтинг
11. Веб-страница
12. Станция метро
13. Почта

* Заказ
1. Столик
2. Время
3. Номер телефона
4. Имя
5. Код подтверждения
6. Комментарий

* Столик
1. Заведение
2. Номер
3. Количество мест
```

### Даталогический

#### Active Record
В Ruby on Rails приложениях для гибкой разработки, базы данных используется  Active Record.

#### Active Record как паттерн
Active Record это M в MVC -- модель, которая является слоем в системе, ответственным за представление бизнес-логики и данных. Active Record упрощает создание и использование бизнес-объектов, данные которых требуют постоянного хранения в базе данных. Сама по себе эта реализация паттерна Active Record является описанием системы ORM (Object Relational Mapping).
Active Record был описан Martin Fowler в его книге Patterns of Enterprise Application Architecture. В Active Record объекты содержат и сохраненные данные, и поведение, которое работает с этими данными. Active Record исходит из мнения, что обеспечение логики доступа к данным как части объекта покажет пользователям этого объекта то, как читать и писать в базу данных.
#### Active Record -- это фреймворк ORM
Ввиду того, что в Rails Active Record является по сути слоем абстракции над физическим уровнем, то третий этап проектирования ниверлируется и предсталяет собой взаимодействие с высокоуровневым Active Record.
Active Record предоставляет нам несколько механизмов, наиболее важными являются:
* Представления моделей и их данных.
* Представления связей между этими моделями.
* Представления иерархий наследования с помощью связанных моделей.
* Валидации моделей до того, как они будут сохранены в базу данных.
* Выполнения операций с базой данных в объктно-ориентированном стиле